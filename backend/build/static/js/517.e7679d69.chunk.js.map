{"version":3,"file":"static/js/517.e7679d69.chunk.js","mappings":"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","sources":["application/middlewares/index.js","components/NavBar.js","pages/MainPage/Filters.js","pages/MainPage/Form.js","pages/MainPage/Card.js","components/CustomPaginaton.js","components/useTimeOut.js","pages/MainPage/index.js"],"sourcesContent":["import {api} from '../api/index';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport const get = ({ url, token, action }) => async () => {\r\n    try {\r\n        const response = await api.get({ url, token, withCredentials: false });\r\n        return action({ success: true, data: response.data });\r\n    } catch (error) {\r\n        console.log(error)\r\n        return action({ success: false, message: error?.response?.data });\r\n    }\r\n}\r\n    \r\nexport const post = ({ url, token, action, data }) => async dispatch => {\r\n    try {\r\n        const response = await api.post({ url, params: data, withCredentials: false, token });\r\n        return action({ success: true, data: response.data });\r\n    } catch (error) {\r\n        return action({ success: false, message: error?.response?.data, error: error?.response });\r\n    }\r\n}\r\n    \r\nexport const put = ({ url, token, action, data }) => async dispatch => {\r\n    try {\r\n        const response = await api.update({ url, params: data, withCredentials: false, token });\r\n        return action({ success: true, data: response.data });\r\n    } catch (error) {\r\n        return action({ success: false, message: error?.response?.data });\r\n    }\r\n}\r\n    \r\nexport const del = ({ url, token, action }) => async dispatch => {\r\n    try {\r\n        const response = await api.delete({ url, token, withCredentials: false });\r\n        dispatch(action(response.data));\r\n    } catch (error) {\r\n        console.log(error)\r\n        toast.error(\"Üstinlikli Bolmady\");\r\n    }\r\n}","import { Group, UnstyledButton } from \"@mantine/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Logout } from \"../application/middlewares/auth\";\r\n\r\nfunction MyNavBar() {\r\n\r\n  const token = useSelector(state => state?.auth?.token)\r\n  const dispatch = useDispatch()\r\n  \r\n  return (\r\n    <div className=\" flex bg-blue-400 h-16 px-12 justify-between items-center \">\r\n        <Link to = \"/\" className=\"hover:text-red-600\">\r\n            Страница с постами\r\n        </Link>\r\n        {!token ?\r\n          <Link to = \"/login\" className=\"hover:text-red-600\">\r\n            Авторизация\r\n          </Link>\r\n        : \r\n        <p onClick={()=>dispatch(Logout())} className=\"cursor-pointer hover:text-red-600 \">\r\n          Wyhod\r\n        </p>\r\n        }\r\n        \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyNavBar","import { Group, TextInput, Select, ActionIcon, Button } from \"@mantine/core\";\r\nimport {IoMdAdd} from \"@react-icons/all-files/io/IoMdAdd\"\r\n\r\nfunction Filters ({openModal, handleSearch, seFilter}){\r\n    const select_data = [\r\n        {value:\"1\", column:\"tl.name\", direction:\"ASC\", label:\"По имени (возростанию)\"},\r\n        {value:\"2\", column:\"tl.name\", direction:\"DESC\", label:\"По имени (убыванию)\"},\r\n        {value:\"3\", column:\"tl.email\", direction:\"ASC\", label:\"По мейлу (возростанию)\"},\r\n        {value:\"4\", column:\"tl.email\", direction:\"DESC\", label:\"По мейлу (убыванию)\"},\r\n        {value:\"5\", column:\"tl.text\", direction:\"ASC\", label:\"По тексту (возростанию)\"},\r\n        {value:\"6\", column:\"tl.text\", direction:\"DESC\", label:\"По тексту (убыванию)\"},\r\n\r\n        \r\n    ]\r\n    return (\r\n        <Group position=\"apart\" className=\"pt-3\">\r\n            <TextInput placeholder=\"Имя или email\" radius={\"md\"} onChange = {(e) => handleSearch(e.target.value)} />\r\n            <Group direction=\"row\">\r\n                <Select placeholder=\"Сортировка\" onChange={(value)=>seFilter(select_data.filter(item => {\r\n                    if(item.value === value) \r\n                    return item\r\n                })[0])} data = {select_data} />\r\n                <ActionIcon onClick={()=>openModal()} variant=\"outline\" className=\"text-blue-500 hover:text-indigo-600\"><IoMdAdd className=\"text-blue-500 hover:text-indigo-600\"/></ActionIcon>\r\n            </Group>\r\n        </Group>\r\n    )\r\n}\r\nexport default Filters;","import { Button, Modal, Textarea, TextInput } from \"@mantine/core\"\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as Yup from 'yup';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { post } from \"../../application/middlewares\";\r\nimport { useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nfunction Form ({visible, setCloseModal, form, values, token, updatePost, addPost}) {\r\n    const dispatch = useDispatch()\r\n    const {getValues, setValue, formState: { errors }, setError, reset, register, handleSubmit} = useForm({\r\n        resolver:yupResolver(schema)\r\n    })\r\n    useEffect(()=>{\r\n        if(visible && form !== \"add\"){\r\n            Object.keys(values).forEach(key => {\r\n                if(key !== \"id\"){\r\n                    setValue(key, values[key])\r\n                }\r\n            })\r\n        }\r\n    }, [visible])\r\n\r\n    const onSubmit = (data) =>{\r\n        setLoading(true)\r\n        dispatch(post({\r\n            url: form === \"add\" ?  \"/api/add-post\" : `api/admin/update-post/${values?.id}`,\r\n            token,\r\n            data,\r\n            action: (response) =>{\r\n                if(response.success){\r\n                    if(form === \"add\"){\r\n                        addPost(response.data.rows)\r\n                        toast.success(\"Успешно добавлено\")\r\n                    }else{\r\n                        console.log(\"hello update success\")\r\n                        updatePost({id:values?.id, ...data, status_id:2})\r\n                    }\r\n                    setLoading(false)\r\n                    reset({name:\"\", email:\"\", text:\"\"})\r\n                }else{\r\n                    toast.error(\"что то пошло не так\")\r\n                }\r\n            }\r\n        }))\r\n    }\r\n    const [loading, setLoading] = useState()\r\n    return(\r\n        <Modal\r\n            opened = {visible}\r\n            onClose = {()=>{setCloseModal(); reset({name:\"\", text:\"\", email:\"\"})}}\r\n            title = {form===\"add\" ? \"Добавить\" :\"Изменить\"}\r\n            centered\r\n            radius={\"md\"}\r\n        >\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"w-full flex flex-col\">\r\n                <TextInput className=\"mt-1\" label={\"Введите ваше имя\"} placeholder={\"Довран\"} {...register(\"name\")} error = {errors?.name?.message}/>\r\n                <TextInput className=\"mt-1\" label={\"Введите ваш email\"} placeholder={\"ddowran2106@gmail.com\"} {...register(\"email\")} error = {errors?.email?.message}/>\r\n                <Textarea className=\"mt-1 \" label={\"Введите ваш текст\"} placeholder={\"какойто текст\"} {...register(\"text\")} error = {errors?.text?.message}/>\r\n                <Button loading={loading} variant=\"outline\" type=\"submit\" className=\"mt-2\">\r\n                    {form === \"add\" ? \"Добавить\" : \"Изменить\"}\r\n                </Button>\r\n            </form>\r\n\r\n        </Modal>\r\n    )\r\n}\r\nconst schema = Yup.object().shape({\r\n    name:Yup.string(\"Должна быть строка\").required(\"some\").min(3, \"some\").max(100,\"some\"),\r\n    email:Yup.string(\"Должна быть строка\").required(\"some\").min(3, \"some\").max(100,\"some\"),\r\n    text:Yup.string(\"Должна быть строка\").required(\"some\").min(3, \"some\").max(1000,\"some\"),\r\n})\r\n\r\nexport default Form;","import { ActionIcon, Card, Group, Select} from \"@mantine/core\";\r\nimport {BiEdit} from \"@react-icons/all-files/bi/BiEdit\"\r\nimport {IoMdDoneAll} from \"@react-icons/all-files/io/IoMdDoneAll\"\r\nimport toast from \"react-hot-toast\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { post } from \"../../application/middlewares\";\r\n\r\nfunction ToDoCart ({item, token, openEditForm, submitData}) {\r\n    const dispatch = useDispatch()\r\n    const submitToDo = ()=>{\r\n        dispatch(post({\r\n            url:`/api/admin/submit-post/${item.id}`,\r\n            token,\r\n            action : (response) =>{\r\n                if(response.success){\r\n                    toast.success(\"Успешно обновлено\")\r\n                    submitData(item.id)\r\n                }else{\r\n                    toast.error(\"Что то пошло не так\")\r\n                }\r\n            }\r\n        }))\r\n    }\r\n    return (\r\n        <Card className=\"bg-gray-50 shadow-inner\">\r\n            <Group direction=\"row\">\r\n                <p className=\"text-red-400\">\r\n                    {+item.status_id === 1 ? \"Не выполнено\" : +item?.status_id === 2 ? \"Редакторовано\" : \"Выполнено\"}\r\n                </p>\r\n                {token &&\r\n                    <>\r\n                        <ActionIcon onClick={()=>openEditForm(item)} variant=\"outline\">\r\n                            <BiEdit size = \"22\" className=\"text-blue-500\"/>\r\n                        </ActionIcon>\r\n                        {\r\n                            item.status_id !== 3 &&\r\n                            <ActionIcon variant=\"outline\" onClick={()=>submitToDo()}>\r\n                                <IoMdDoneAll size=\"22\" className = \"text-blue-500\"/>\r\n                            </ActionIcon>\r\n                        }\r\n                        \r\n                    </>\r\n                }\r\n            </Group>\r\n            <p>Пользователь: {item.name}</p>\r\n            <p>Email: {item.email}</p>\r\n            <p>Текст</p>\r\n            <p>{item.text}</p>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default ToDoCart;","import { Pagination } from '@mantine/core';\r\n\r\nconst CustomPaginaton = ({ setPage, page, total}) =>{\r\n    return (\r\n        <Pagination \r\n          size=\"xs\"\r\n          radius=\"md\"\r\n          total={total} \r\n          boundaries={1} \r\n          initialPage={1}\r\n          onChange={setPage}\r\n          page={page} \r\n          classNames={{\r\n            // item: 'your-item-class',\r\n            // dots: 'your-dots-class',\r\n            active: 'bg-blue-500',\r\n          }}\r\n          // withEdges\r\n          siblings={1}\r\n          getItemAriaLabel={(page) => {\r\n              switch (page) {\r\n                case 'dots':\r\n                  return 'dots element aria-label';\r\n                case 'prev':\r\n                  return 'previous page button aria-label';\r\n                case 'next':\r\n                  return 'next page button aria-label';\r\n                case 'first':\r\n                  return 'first page button aria-label';\r\n                case 'last':\r\n                  return 'last page button aria-label';\r\n                default:\r\n                  return `${page} item aria-label`;\r\n              }\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default CustomPaginaton;","import {useState} from 'react';\n \nfunction useTimeout({action, time}){\n    const [timeOut, setTime] = useState(0);\n    function handleChange(value){\n        if(timeOut) clearTimeout(timeOut);\n        setTime(\n            setTimeout(() => {action(value)}, time)\n        );\n    }\n    return handleChange;\n}\n \nexport default useTimeout;","import { useEffect, useReducer } from \"react\"\r\nimport MyNavBar from \"../../components/NavBar\"\r\nimport Filters from \"./Filters\"\r\nimport Form from \"./Form\"\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport { get } from \"../../application/middlewares\"\r\nimport toast from \"react-hot-toast\"\r\nimport ToDoCart from \"./Card\"\r\nimport { Grid } from \"@mantine/core\"\r\nimport CustomPaginaton from \"../../components/CustomPaginaton\"\r\nimport useTimeOut from \"../../components/useTimeOut.js\"\r\n\r\nfunction reducer (state, action){\r\n    switch (action.type){\r\n        case \"SET_VISIBLE_FORM\":\r\n            return {\r\n                ...state,\r\n                visible:true,\r\n                form:\"add\",\r\n                values:{}\r\n            }\r\n        case \"SET_CLOSE_MODAL\":\r\n            return{\r\n                ...state,\r\n                values:{},\r\n                visible:false\r\n            }\r\n        case \"SET_SEARCH\":\r\n            return {\r\n                ...state,\r\n                search:action.payload,\r\n                trigger:!state.trigger,\r\n                page:1\r\n            }   \r\n        case \"SET_FILTER\":\r\n            return {\r\n                ...state,\r\n                column:action.payload?.column,\r\n                direction:action.payload?.direction,\r\n                trigger:!state?.trigger,\r\n                page:1\r\n            }\r\n        case \"SET_DATA\":\r\n            return {\r\n                ...state,\r\n                data:action.payload.list,\r\n                count:action.payload.count\r\n            }\r\n        case \"SET_PAGE\":\r\n            return {\r\n                ...state,\r\n                page:action.payload,\r\n                trigger:!state.trigger\r\n            }\r\n        case \"OPEN_EDIT_FORM\":\r\n            return {\r\n                ...state,\r\n                visible:true,\r\n                values:action.payload,\r\n                form:\"update\"\r\n            }\r\n        case \"UPDATE_POST\":\r\n            return{\r\n                ...state,\r\n                visible:false,\r\n                data:state.data.map(item => {\r\n                    if(+item.id === +action.payload.id){\r\n                        return action.payload\r\n                    }return item\r\n                })\r\n            }\r\n        case \"CLEAR\" :\r\n            return{\r\n                ...state,\r\n                data:[]\r\n            }\r\n        case \"ADD_POST\":\r\n            return {\r\n                ...state,\r\n                data: [action.payload, ...state.data?.slice(0, 2)],\r\n                visible:false\r\n            }\r\n        case \"SUBMIT_DATA\":\r\n            return {\r\n                ...state,\r\n                data:state.data.map(item =>{\r\n                    if(+item.id === +action.payload){\r\n                        item.status_id = 3\r\n                    }return item\r\n                })\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nfunction MainPage (){\r\n\r\n    const [state, setState] = useReducer(reducer, {\r\n        data:[], count:0, page:1, limit:3, search:\"\", column:\"\", direction:\"\",\r\n        visible:\"\", form:\"\", values:{}, tigger:true\r\n    })\r\n    const dispatch = useDispatch()\r\n    useEffect(()=>{\r\n        setState({type:\"CLEAR\", payload:\"\"})\r\n        dispatch(get({\r\n            url:`api/get-posts?page=${state.page-1}&limit=${state.limit}&column=${state.column ? state.column : \"\" }&direction=${state.direction ? state.direction : \"\"}&search=${state?.search}`,\r\n            action: (response) =>{\r\n                if(response.success){\r\n                    setState({type:\"SET_DATA\", payload:response.data?.rows})\r\n                }else{\r\n                    toast.error(\"sometihnig went wwronf\")\r\n                }\r\n            }\r\n        }))\r\n    }, [state.trigger])\r\n\r\n    const handleSearch = useTimeOut({action : (value) => setState({type:\"SET_SEARCH\",payload:value}), time:500})\r\n    \r\n\r\n    const token = useSelector(state => state?.auth?.token)\r\n    return (\r\n        <>\r\n             <MyNavBar/>\r\n            <Filters \r\n                openModal = {()=>setState({type:\"SET_VISIBLE_FORM\", payload:\"\"})} \r\n                handleSearch = {(value)=>handleSearch(value)}\r\n                seFilter = {(value) =>setState({type:\"SET_FILTER\", payload:value})}\r\n            />\r\n            <Form \r\n                token={token} values = {state.values} form={state?.form} visible = {state?.visible} \r\n                setCloseModal = {()=>setState({type:\"SET_CLOSE_MODAL\", payload:\"\"})} \r\n                updatePost = {(values) =>setState({type:\"UPDATE_POST\", payload:values})}\r\n                addPost = {(value) =>setState({type:\"ADD_POST\", payload:value})}\r\n                \r\n                />\r\n            <Grid className=\"pt-10 pb-5\">\r\n                {state.data?.length && \r\n                    state.data.map(item => <Grid.Col key = {item.id} span={4}><ToDoCart submitData={(value)=>setState({type:\"SUBMIT_DATA\", payload:value})} openEditForm={(values)=>setState({type:\"OPEN_EDIT_FORM\", payload:values})} token = {token} item = {item}/></Grid.Col>)\r\n                }\r\n            </Grid>\r\n            <CustomPaginaton page={state.page} total = {Math.floor(state.count/state.limit)+ 1 } setPage = {(value) =>setState({type:\"SET_PAGE\", payload:value})} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MainPage"],"names":["get","url","token","action","api","withCredentials","response","success","data","console","log","message","post","dispatch","params","error","useSelector","state","auth","useDispatch","className","to","onClick","Logout","openModal","handleSearch","seFilter","select_data","value","column","direction","label","Group","position","TextInput","placeholder","radius","onChange","e","target","Select","filter","item","ActionIcon","A","variant","IoMdAdd","schema","Yup","shape","name","required","min","max","email","text","visible","setCloseModal","form","values","updatePost","addPost","useForm","resolver","yupResolver","setValue","getValues","errors","formState","reset","setError","register","handleSubmit","useEffect","Object","keys","forEach","key","useState","loading","setLoading","Modal","opened","onClose","title","centered","onSubmit","id","rows","toast","status_id","Textarea","Button","type","openEditForm","submitData","Card","BiEdit","size","IoMdDoneAll","setPage","page","total","Pagination","boundaries","initialPage","classNames","active","siblings","getItemAriaLabel","time","timeOut","setTime","clearTimeout","setTimeout","reducer","search","payload","trigger","list","count","map","slice","useReducer","limit","tigger","setState","useTimeOut","Grid","length","span","Math","floor"],"sourceRoot":""}